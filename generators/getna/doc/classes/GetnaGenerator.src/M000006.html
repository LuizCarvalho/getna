<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
  <title>new (GetnaGenerator)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body class="standalone-code">
  <pre><span class="ruby-comment cmt"># File getna_generator.rb, line 27</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">runtime_args</span>, <span class="ruby-identifier">runtime_options</span> = {})
    <span class="ruby-keyword kw">super</span>

   <span class="ruby-ivar">@geobject</span> = <span class="ruby-constant">Getna</span><span class="ruby-operator">::</span><span class="ruby-constant">DBAdapter</span>.<span class="ruby-identifier">new</span>
     <span class="ruby-comment cmt">#$stdout.print &quot;ARGS&quot;</span>
    <span class="ruby-comment cmt"># runtime_args.each { |i|  $stdout.print&quot;#{i}\n&quot; }</span>
     <span class="ruby-comment cmt">#$stdout.print &quot;ARGS&quot;</span>
    <span class="ruby-comment cmt"># runtime_options.each { |i|  $stdout.print&quot;#{i}\n&quot; }</span>
    
    <span class="ruby-comment cmt">#con = ActiveRecord::Base.connection</span>
    <span class="ruby-comment cmt">#$stdout.print con.connection </span>
      
<span class="ruby-comment cmt">#    $stdout.print &quot;\n\nANTES DO NEW  1\n\n&quot;</span>
 <span class="ruby-comment cmt">#   @a = Getna::DBAdapter.new({:host=&gt;&quot;localhost&quot;,:db=&gt;&quot;imput&quot;,:user=&gt;&quot;root&quot;,:port=&gt;&quot;root&quot;})</span>
  <span class="ruby-comment cmt">#  $stdout.print &quot;\n\nDEPOIS  DO NEW 4 \n\n&quot;</span>
<span class="ruby-comment cmt">#    $stdout.print &quot;A = #{@a}&quot;</span>
    
    <span class="ruby-ivar">@objects</span> = []
    <span class="ruby-ivar">@dados</span> = [{<span class="ruby-identifier">:nome=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;usuario&quot;</span>,<span class="ruby-identifier">:atributos=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;Integer&quot;</span>,<span class="ruby-identifier">:nome=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;String&quot;</span>,<span class="ruby-identifier">:endereco=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;String&quot;</span>]}, { <span class="ruby-identifier">:nome=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;grupo&quot;</span>,<span class="ruby-identifier">:atributos=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;Integer&quot;</span>,<span class="ruby-identifier">:nome=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;String&quot;</span>,<span class="ruby-identifier">:descricao=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;String&quot;</span>]} ]
    <span class="ruby-comment cmt"># $stdout.print &quot;DADOS #{@dados}\n&quot;</span>
   <span class="ruby-ivar">@dados</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@objects</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">:nome</span>])}
   <span class="ruby-comment cmt"># $stdout.print  &quot;OBJECT#{@objects}\n\n&quot;</span>
  
  <span class="ruby-keyword kw">end</span></pre>
</body>
</html>